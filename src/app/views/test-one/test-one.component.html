<div class="container">
    <h1>Endpoint del clima</h1>
    <mat-divider></mat-divider>
    <p class="mt-3">
        En este endpoin enviaremos coordenadas en latitud y longitud para
         obtener un pronostico de las próximas 6 horas!
    </p>
    <mat-card>
        <mat-card-content class="w-100 mx-0 px-2 row" [formGroup]="formClima">
            <mat-form-field appearance="outline" class="col-md-6">
                <mat-label>Latitud</mat-label>
                <input matInput
                    autocomplete="off"
                    placeholder=""
                    type="number"
                    required
                    formControlName="lat"
                >
                <mat-error>
                    Latitud incorrecta
                </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline" class="col-md-6">
                <mat-label>Longitud</mat-label>
                <input matInput
                    autocomplete="off"
                    placeholder=""
                    type="number"
                    required
                    formControlName="lon"
                >
                <mat-error>
                    Longitud incorrecta
                </mat-error>
            </mat-form-field>
        </mat-card-content>
        <mat-card-actions align="center">
            <button mat-flat-button color="primary" (click)="getForecast()" *ngIf="!isLoading">Enviar</button>
            <div class="row w-100 mx-0 align-items-center justify-content-center py-2" *ngIf="isLoading">
                <mat-spinner></mat-spinner>
            </div>
        </mat-card-actions>
    </mat-card>
    <mat-card class="mt-2 mb-1" *ngFor="let forecast of forecasts">
        <mat-card-header>
            <mat-card-title>Hora: {{forecast.hora}}</mat-card-title>
        </mat-card-header>
        <mat-card-content class="row mx-0 px-2 w-100">
            <mat-form-field appearance="outline" class="col-md-auto">
                <mat-label>Descripción</mat-label>
                <input matInput autocomplete="off" [value]="forecast.descripcion">
            </mat-form-field>
            <mat-form-field appearance="outline" class="col-md-auto">
                <mat-label>humedad</mat-label>
                <input matInput autocomplete="off" [value]="forecast.humedad">
            </mat-form-field>
            <mat-form-field appearance="outline" class="col-md-auto">
                <mat-label>Nubes</mat-label>
                <input matInput autocomplete="off" [value]="forecast.nubes">
            </mat-form-field>
            <mat-form-field appearance="outline" class="col-md-auto">
                <mat-label>Presión</mat-label>
                <input matInput autocomplete="off" [value]="forecast.presion">
            </mat-form-field>
            <mat-form-field appearance="outline" class="col-md-auto">
                <mat-label>Sensación térmica</mat-label>
                <input matInput autocomplete="off" [value]="forecast.sensacionTermica">
            </mat-form-field>
            <mat-form-field appearance="outline" class="col-md-auto">
                <mat-label>Temperatura</mat-label>
                <input matInput autocomplete="off" [value]="forecast.temperatura">
            </mat-form-field>
            <mat-form-field appearance="outline" class="col-md-auto">
                <mat-label>Velocidad de Viento</mat-label>
                <input matInput autocomplete="off" [value]="forecast.velocidadViento">
            </mat-form-field>
            <mat-form-field appearance="outline" class="col-md-auto">
                <mat-label>Visibilidad</mat-label>
                <input matInput autocomplete="off" [value]="forecast.visibilidad">
            </mat-form-field>
        </mat-card-content>
    </mat-card>
</div>
